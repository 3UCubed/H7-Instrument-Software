<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>H7-LQFP100-RTOS: Core/src/error_packet_handler.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">H7-LQFP100-RTOS<span id="projectnumber">&#160;1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_6635075fd29d94b1e79ef2060fed20a6.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">error_packet_handler.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of error packet handling.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;error_packet_handler.h&quot;</code><br />
<code>#include &quot;usart.h&quot;</code><br />
<code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;eeprom.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8407dc8a2dc2749fc2a58460320c6195" id="r_a8407dc8a2dc2749fc2a58460320c6195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8407dc8a2dc2749fc2a58460320c6195">handle_error</a> (ERROR_STRUCT error)</td></tr>
<tr class="memdesc:a8407dc8a2dc2749fc2a58460320c6195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles all errors in the system.  <br /></td></tr>
<tr class="separator:a8407dc8a2dc2749fc2a58460320c6195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de3b1d11097ae22d07e6b96f3278cad" id="r_a2de3b1d11097ae22d07e6b96f3278cad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2de3b1d11097ae22d07e6b96f3278cad">error_counter_init</a> ()</td></tr>
<tr class="separator:a2de3b1d11097ae22d07e6b96f3278cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dea563992120d994e008ed7b3afaeb" id="r_a26dea563992120d994e008ed7b3afaeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26dea563992120d994e008ed7b3afaeb">increment_error_counter</a> (ERROR_STRUCT error)</td></tr>
<tr class="memdesc:a26dea563992120d994e008ed7b3afaeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the error counter for a given error, and updates the variable in the EE.  <br /></td></tr>
<tr class="separator:a26dea563992120d994e008ed7b3afaeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52864e5e29f01761e5f96f11018582cb" id="r_a52864e5e29f01761e5f96f11018582cb"><td class="memItemLeft" align="right" valign="top"><a id="a52864e5e29f01761e5f96f11018582cb" name="a52864e5e29f01761e5f96f11018582cb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>update_error_counter</b> ()</td></tr>
<tr class="memdesc:a52864e5e29f01761e5f96f11018582cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the contents of local_cpy to the EE, excluding the previous error codes. <br /></td></tr>
<tr class="separator:a52864e5e29f01761e5f96f11018582cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f04466415a2ecb349ba32fb4b81ee6" id="r_a19f04466415a2ecb349ba32fb4b81ee6"><td class="memItemLeft" align="right" valign="top"><a id="a19f04466415a2ecb349ba32fb4b81ee6" name="a19f04466415a2ecb349ba32fb4b81ee6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset_error_counters</b> ()</td></tr>
<tr class="memdesc:a19f04466415a2ecb349ba32fb4b81ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all error counters in the EE to 0. <br /></td></tr>
<tr class="separator:a19f04466415a2ecb349ba32fb4b81ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a647905636b18e6c21d342517792c6" id="r_a19a647905636b18e6c21d342517792c6"><td class="memItemLeft" align="right" valign="top"><a id="a19a647905636b18e6c21d342517792c6" name="a19a647905636b18e6c21d342517792c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset_previous_error</b> ()</td></tr>
<tr class="memdesc:a19a647905636b18e6c21d342517792c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the previous error codes to 0xFF. 0xFF was chose because it doesn't correspond to any error code. <br /></td></tr>
<tr class="separator:a19a647905636b18e6c21d342517792c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c1cad9d754d01d270ab474f2262842" id="r_a84c1cad9d754d01d270ab474f2262842"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84c1cad9d754d01d270ab474f2262842">set_previous_error</a> (ERROR_STRUCT error)</td></tr>
<tr class="memdesc:a84c1cad9d754d01d270ab474f2262842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets previous error code in the EE.  <br /></td></tr>
<tr class="separator:a84c1cad9d754d01d270ab474f2262842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd725398ca96aa85e30a10c232038ae2" id="r_abd725398ca96aa85e30a10c232038ae2"><td class="memItemLeft" align="right" valign="top">ERROR_STRUCT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd725398ca96aa85e30a10c232038ae2">get_previous_error</a> ()</td></tr>
<tr class="memdesc:abd725398ca96aa85e30a10c232038ae2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the previous error codes from EE.  <br /></td></tr>
<tr class="separator:abd725398ca96aa85e30a10c232038ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a503293430e826fed773a9f2b0092a" id="r_ad7a503293430e826fed773a9f2b0092a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7a503293430e826fed773a9f2b0092a">send_error_counter_packet</a> ()</td></tr>
<tr class="memdesc:ad7a503293430e826fed773a9f2b0092a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and sends a packet containing all 27 error counters.  <br /></td></tr>
<tr class="separator:ad7a503293430e826fed773a9f2b0092a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa574bf051be4df536870e04c700276dc" id="r_aa574bf051be4df536870e04c700276dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa574bf051be4df536870e04c700276dc">send_previous_error_packet</a> ()</td></tr>
<tr class="memdesc:aa574bf051be4df536870e04c700276dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and sends a packet containing the error codes for the previous error.  <br /></td></tr>
<tr class="separator:aa574bf051be4df536870e04c700276dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1c92a52e81b3c48906860212263b2c" id="r_a3f1c92a52e81b3c48906860212263b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f1c92a52e81b3c48906860212263b2c">send_current_error_packet</a> (ERROR_STRUCT error)</td></tr>
<tr class="memdesc:a3f1c92a52e81b3c48906860212263b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and sends a packet containing the error codes for the current error.  <br /></td></tr>
<tr class="separator:a3f1c92a52e81b3c48906860212263b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34102ff7288e524a4491e6ddb8544a2a" id="r_a34102ff7288e524a4491e6ddb8544a2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34102ff7288e524a4491e6ddb8544a2a">send_junk_packet</a> ()</td></tr>
<tr class="memdesc:a34102ff7288e524a4491e6ddb8544a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and sends a junk packet containing all 0xCE.  <br /></td></tr>
<tr class="separator:a34102ff7288e524a4491e6ddb8544a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1fb74b26daf6fdfa3dc85e4232ef4769" id="r_a1fb74b26daf6fdfa3dc85e4232ef4769"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fb74b26daf6fdfa3dc85e4232ef4769">VirtAddVarTab</a> [NB_OF_VAR] = {0x5550, 0x5551, 0x5552, 0x5553, 0x5554, 0x5555, 0x5556, 0x5557, 0x5558, 0x5559, 0x555A, 0x555B, 0x555C, 0x555D, 0x555E, 0x555F, 0x6660, 0x6661, 0x6662, 0x6663, 0x6664, 0x6665, 0x6666, 0x6667, 0x6668, 0x6669, 0x666A, 0x666B, 0x666C}</td></tr>
<tr class="memdesc:a1fb74b26daf6fdfa3dc85e4232ef4769"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing virtual addresses for EEPROM emulation variables.  <br /></td></tr>
<tr class="separator:a1fb74b26daf6fdfa3dc85e4232ef4769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf49355162b21ca49d5b3396a9647822" id="r_aaf49355162b21ca49d5b3396a9647822"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf49355162b21ca49d5b3396a9647822">VarDataTab</a> [NB_OF_VAR] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}</td></tr>
<tr class="memdesc:aaf49355162b21ca49d5b3396a9647822"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array storing the data values for EEPROM emulation variables.  <br /></td></tr>
<tr class="separator:aaf49355162b21ca49d5b3396a9647822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca103e6eac9984a435459facf1d9733" id="r_aeca103e6eac9984a435459facf1d9733"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeca103e6eac9984a435459facf1d9733">local_cpy</a> [NUM_ERROR_COUNTERS]</td></tr>
<tr class="memdesc:aeca103e6eac9984a435459facf1d9733"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array used to store the error counters.  <br /></td></tr>
<tr class="separator:aeca103e6eac9984a435459facf1d9733"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of error packet handling. </p>
<p>Handles all errors in the system. If the built in HAL error handler is called by a peripheral, it redirects here.</p>
<dl class="section author"><dt>Author</dt><dd>Jared Morrison </dd></dl>
<dl class="section date"><dt>Date</dt><dd>September 4, 2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2de3b1d11097ae22d07e6b96f3278cad" name="a2de3b1d11097ae22d07e6b96f3278cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de3b1d11097ae22d07e6b96f3278cad">&#9670;&#160;</a></span>error_counter_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_counter_init </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@breif Initializes the EE, reads the error counters from the EE, and stores them in local_cpy. </p>

</div>
</div>
<a id="abd725398ca96aa85e30a10c232038ae2" name="abd725398ca96aa85e30a10c232038ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd725398ca96aa85e30a10c232038ae2">&#9670;&#160;</a></span>get_previous_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ERROR_STRUCT get_previous_error </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the previous error codes from EE. </p>
<dl class="section return"><dt>Returns</dt><dd>Error populated with retrieved category and detail. </dd></dl>

</div>
</div>
<a id="a8407dc8a2dc2749fc2a58460320c6195" name="a8407dc8a2dc2749fc2a58460320c6195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8407dc8a2dc2749fc2a58460320c6195">&#9670;&#160;</a></span>handle_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_error </td>
          <td>(</td>
          <td class="paramtype">ERROR_STRUCT</td>          <td class="paramname"><span class="paramname"><em>error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles all errors in the system. </p>
<p>Built in error handler calls this function instead of entering an infinite while loop. Before calling this function, the caller will create a new variable of type ERROR_STRUCT and populate the error_category and error_detail attributes with the respective codes. Given and error category and detail, this error handler proceeds with the appropriate actions. Regardless of what caused the error, this error handler will always increment the error counter, set the previous error to whatever error we are currently handling, send an error packet, and enter IDLE mode. Additional actions are taken depending on the error category.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Error given by the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26dea563992120d994e008ed7b3afaeb" name="a26dea563992120d994e008ed7b3afaeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26dea563992120d994e008ed7b3afaeb">&#9670;&#160;</a></span>increment_error_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void increment_error_counter </td>
          <td>(</td>
          <td class="paramtype">ERROR_STRUCT</td>          <td class="paramname"><span class="paramname"><em>error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the error counter for a given error, and updates the variable in the EE. </p>
<p>I designed the error categories and codes such that they correspond to an index in our local_cpy array. To see what index a particular error is stored in, just check the value each category or detail is assigned in the header file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Error given by the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f1c92a52e81b3c48906860212263b2c" name="a3f1c92a52e81b3c48906860212263b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1c92a52e81b3c48906860212263b2c">&#9670;&#160;</a></span>send_current_error_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_current_error_packet </td>
          <td>(</td>
          <td class="paramtype">ERROR_STRUCT</td>          <td class="paramname"><span class="paramname"><em>error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and sends a packet containing the error codes for the current error. </p>
<p>This type of packet is only sent when <a class="el" href="#a8407dc8a2dc2749fc2a58460320c6195" title="Handles all errors in the system.">handle_error()</a> is called. </p>

</div>
</div>
<a id="ad7a503293430e826fed773a9f2b0092a" name="ad7a503293430e826fed773a9f2b0092a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a503293430e826fed773a9f2b0092a">&#9670;&#160;</a></span>send_error_counter_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_error_counter_packet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and sends a packet containing all 27 error counters. </p>
<p>There is an error counter for every single category and detail. This type of packet is only sent during sync. </p>

</div>
</div>
<a id="a34102ff7288e524a4491e6ddb8544a2a" name="a34102ff7288e524a4491e6ddb8544a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34102ff7288e524a4491e6ddb8544a2a">&#9670;&#160;</a></span>send_junk_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_junk_packet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and sends a junk packet containing all 0xCE. </p>
<p>Used to clear out the buffer on the OBC. </p>

</div>
</div>
<a id="aa574bf051be4df536870e04c700276dc" name="aa574bf051be4df536870e04c700276dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa574bf051be4df536870e04c700276dc">&#9670;&#160;</a></span>send_previous_error_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_previous_error_packet </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and sends a packet containing the error codes for the previous error. </p>
<p>This type of packet is only sent on request. </p>

</div>
</div>
<a id="a84c1cad9d754d01d270ab474f2262842" name="a84c1cad9d754d01d270ab474f2262842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c1cad9d754d01d270ab474f2262842">&#9670;&#160;</a></span>set_previous_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_previous_error </td>
          <td>(</td>
          <td class="paramtype">ERROR_STRUCT</td>          <td class="paramname"><span class="paramname"><em>error</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets previous error code in the EE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Previous error code in EE is set to this. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeca103e6eac9984a435459facf1d9733" name="aeca103e6eac9984a435459facf1d9733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeca103e6eac9984a435459facf1d9733">&#9670;&#160;</a></span>local_cpy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t local_cpy[NUM_ERROR_COUNTERS]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array used to store the error counters. </p>
<p>The reason this array is of size NUM_ERROR_COUNTERS instead of NB_OF_VAR is because there are two extra variables stored in the EE used for keeping track of the last error that occurred. There are a total of 29 variables that we keep track of in the EE. The first 27 are the error counters, and the last two are the error codes for the last error that occurred. </p>

</div>
</div>
<a id="aaf49355162b21ca49d5b3396a9647822" name="aaf49355162b21ca49d5b3396a9647822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf49355162b21ca49d5b3396a9647822">&#9670;&#160;</a></span>VarDataTab</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t VarDataTab[NB_OF_VAR] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array storing the data values for EEPROM emulation variables. </p>
<p>This array holds the data associated with each virtual address in the <code>VirtAddVarTab</code> array. Initially, all values are set to <code>0</code>, and they can be updated as needed during program execution. The size of the array is determined by the <code>NB_OF_VAR</code> constant. </p>

</div>
</div>
<a id="a1fb74b26daf6fdfa3dc85e4232ef4769" name="a1fb74b26daf6fdfa3dc85e4232ef4769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb74b26daf6fdfa3dc85e4232ef4769">&#9670;&#160;</a></span>VirtAddVarTab</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t VirtAddVarTab[NB_OF_VAR] = {0x5550, 0x5551, 0x5552, 0x5553, 0x5554, 0x5555, 0x5556, 0x5557, 0x5558, 0x5559, 0x555A, 0x555B, 0x555C, 0x555D, 0x555E, 0x555F, 0x6660, 0x6661, 0x6662, 0x6663, 0x6664, 0x6665, 0x6666, 0x6667, 0x6668, 0x6669, 0x666A, 0x666B, 0x666C}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array storing virtual addresses for EEPROM emulation variables. </p>
<p>This array holds the virtual addresses of the variables stored in the emulated EEPROM. The addresses are defined to start from <code>0x5550</code> and continue sequentially. The size of the array is determined by the <code>NB_OF_VAR</code> constant. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
